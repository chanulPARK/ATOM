insertApproval=INSERT INTO ELECTRONICAPPROVAL VALUES(?,?,?,?,?,?,DEFAULT)
insertMaterialLine=INSERT INTO MATERIALLINE VALUES(MATERIALLINE_SEQ.NEXTVAL,?,?,?,?,?)
selectWaitApproval=SELECT * FROM (SELECT ROWNUM AS RNUM, EA.* FROM(SELECT EA.*, EMP_NAME FROM ELECTRONICAPPROVAL EA JOIN EMPLOYEE E ON(EA.EMP_ID = E.EMP_ID) JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) WHERE M.EMP_ID = ? AND M.MATERIAL_STATE = ?) EA) WHERE RNUM BETWEEN ? AND ?
selectApproavalCount=SELECT COUNT(*) AS APPROVALCNT FROM (SELECT * FROM(SELECT * FROM ELECTRONICAPPROVAL EA JOIN EMPLOYEE E ON(EA.EMP_ID = E.EMP_ID) JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) WHERE M.EMP_ID = ? AND M.MATERIAL_STATE = ?) EA)
selectDraftNo=SELECT * FROM ELECTRONICAPPROVAL EA JOIN EMPLOYEE E ON(EA.EMP_ID = E.EMP_ID) WHERE DRAFT_NO = ? 
updateMaterialLine=UPDATE MATERIALLINE SET MATERIAL_STATE = ?, material_date = ? WHERE DRAFT_NO=? AND EMP_ID=?
selectMaterialLineDraftNo=SELECT * FROM MATERIALLINE M JOIN ELECTRONICAPPROVAL EA ON(M.DRAFT_NO=EA.DRAFT_NO) JOIN EMPLOYEE E ON(M.EMP_ID=E.EMP_ID) WHERE EA.DRAFT_NO =?
updateApprovalstate=select * from materialline where(select count(*) from materialline where draft_no=?) = (select count(*) from materialline where draft_no=? and material_state=?')
selectMaterialLineCount=select count(*) as materialcnt from materialline where draft_no=?
selectMaterialLineapproveCount=select count(*) as materialapprovecnt from materialline where draft_no=? and material_state=?
selectMaterialLinereject=select count(*) as materialrejectyn from materialline where draft_no=? and material_state=?
updateElectronicApprovalState=update ELECTRONICAPPROVAL set draft_state = ? where draft_no = ?
selectCompletionApproval=SELECT rownum AS rnum,e.emp_name,a.draft_no,ea.draft_date,e.emp_id,ea.draft_dept,ea.draft_name,ea.draft_content,ea.draft_state,COMPLETIONDATE FROM (select EA.DRAFT_NO,MAX(M.MATERIAL_DATE) AS COMPLETIONDATE from ELECTRONICAPPROVAL EA JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) where (EA.emp_id=? OR M.EMP_ID=?) AND EA.DRAFT_STATE=? GROUP BY EA.DRAFT_NO) a JOIN ELECTRONICAPPROVAL EA ON(A.DRAFT_NO=EA.DRAFT_NO) join employee e on(ea.emp_id=e.emp_id) where rownum between ? and ?
selectCompletionCount=SELECT COUNT(*) CNT FROM (SELECT EA.DRAFT_NO, COUNT(*) FROM ELECTRONICAPPROVAL EA JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) where (EA.emp_id=? OR M.EMP_ID=?) AND EA.DRAFT_STATE=? GROUP BY EA.DRAFT_NO)
insertComment=INSERT INTO AUTHORIZATIONCOMMENTS VALUES(AUTHORIZATIONCOMMENTS_SEQ.NEXTVAL,?,?,SYSDATE,?)
selectCommentDraftNo=SELECT * FROM AUTHORIZATIONCOMMENTS ac join MATERIALLINE m on(ac.draft_no=m.draft_no) JOIN EMPLOYEE E ON(AC.EMP_ID=E.EMP_ID) JOIN DEPT D ON(E.DEPT_CODE=D.DEPT_CODE) WHERE AC.EMP_ID = M.EMP_ID AND AC.DRAFT_NO = ?
updateMaterialLineafterProgree=UPDATE MATERIALLINE SET MATERIAL_STATE = ? where DRAFT_NO=? AND MATERIAL_SQUENCE=((SELECT MATERIAL_SQUENCE FROM MATERIALLINE WHERE DRAFT_NO=? AND EMP_ID=?)+1)
selectProgressApproval=SELECT * FROM (SELECT ROWNUM AS RNUM , T.* FROM (SELECT * FROM ELECTRONICAPPROVAL EA JOIN EMPLOYEE E ON(EA.EMP_ID = E.EMP_ID) JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) WHERE M.EMP_ID=? AND MATERIAL_STATE = ? AND EA.DRAFT_STATE=?) T) WHERE RNUM BETWEEN ? AND ?
selectProgressApprovalCount=SELECT count(*) cnt FROM ELECTRONICAPPROVAL EA JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) WHERE M.EMP_ID=? AND MATERIAL_STATE = ? AND EA.DRAFT_STATE=?
selectRequestApproval=select ROWNUM RNUM, T.* from (SELECT * FROM ELECTRONICAPPROVAL EA JOIN EMPLOYEE E ON(EA.EMP_ID=E.EMP_ID) JOIN DEPT D ON(E.DEPT_CODE=D.DEPT_CODE) where EA.EMP_ID = ?) T
selectRequestApprovalCount=SELECT COUNT(*) CNT FROM ELECTRONICAPPROVAL EA JOIN EMPLOYEE E ON(EA.EMP_ID=E.EMP_ID) JOIN DEPT D ON(E.DEPT_CODE=D.DEPT_CODE) where EA.EMP_ID = ?
selectReturnApproval=SELECT * FROM (SELECT ROWNUM RNUM, EA.DRAFT_DATE,EA.DRAFT_CONTENT,EA.DRAFT_STATE, EA.DRAFT_NO, EA.DRAFT_NAME,EA.EMP_ID,E.EMP_NAME,EA.DRAFT_DEPT FROM ELECTRONICAPPROVAL EA JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) JOIN EMPLOYEE E ON(EA.EMP_ID=E.EMP_ID) WHERE EA.DRAFT_STATE=? AND (EA.emp_id=? OR M.EMP_ID=?)) T JOIN (SELECT M.DRAFT_NO,MATERIAL_DATE FROM ELECTRONICAPPROVAL EA JOIN MATERIALLINE M ON(EA.DRAFT_NO=M.DRAFT_NO) WHERE M.MATERIAL_STATE=?) A ON(T.DRAFT_NO=A.DRAFT_NO) WHERE RNUM BETWEEN ? AND ?






 

